<pxb-drawer-layout
    [variant]="getVariant()"
    (backdropClick)="closeDrawer()"
    width="280"
    responsive
    [class.open]="isOpen()"
>
    <pxb-drawer pxb-drawer [open]="isOpen()" [sideBorder]="true">
        <pxb-drawer-header
            [title]="variant === 'temporary' ? undefined : 'Yellow Spyglass'"
            [subtitle]="variant === 'temporary' ? undefined : 'Banano Explorer'"
        >
            <button pxb-icon mat-icon-button (click)="toggleDrawerOpen()">
                <mat-icon>menu</mat-icon>
            </button>
            <div *ngIf="variant === 'temporary'" pxb-title-content class="navigation-drawer-header-content" responsive>
                <div class="mat-overline" [style.marginTop.px]="8">Yellow Spyglass</div>
                <img class="navigation-spyglass" responsive src="assets/spyglass.svg" />
                <div class="mat-overline" [style.marginTop.px]="48">BANANO Explorer</div>
            </div>
        </pxb-drawer-header>
        <pxb-drawer-body>
            <pxb-drawer-nav-group title="Accounts" [divider]="true">
                <pxb-drawer-nav-item
                    *ngFor="let navItem of explorerNavGroup"
                    [divider]="true"
                    [title]="navItem.title"
                    [subtitle]="navItem.subtitle"
                    [selected]="navItem.title === getSelectedItem()"
                    (select)="selectItem(navItem)"
                >
                    <mat-icon pxb-icon>{{ navItem.icon }}</mat-icon>
                </pxb-drawer-nav-item>
            </pxb-drawer-nav-group>

            <pxb-drawer-nav-group title="Network Health" [divider]="true">
                <pxb-drawer-nav-item
                    *ngFor="let navItem of networkNavGroup"
                    [divider]="true"
                    [title]="navItem.title"
                    [subtitle]="navItem.subtitle"
                    [selected]="navItem.title === getSelectedItem()"
                    (select)="selectItem(navItem)"
                >
                    <mat-icon pxb-icon>{{ navItem.icon }}</mat-icon>
                </pxb-drawer-nav-item>
            </pxb-drawer-nav-group>
        </pxb-drawer-body>
    </pxb-drawer>
    <div pxb-content class="navigation-drawer-content">
        <div class="toolbar-container">
            <mat-toolbar class="navigation-app-header-container mat-elevation-z2" color="primary" responsive>
                <button
                    mat-icon-button
                    *ngIf="variant === 'temporary'"
                    (click)="openDrawer()"
                    style="margin-right: 16px; margin-left: -16px"
                >
                    <mat-icon>menu</mat-icon>
                </button>
                <div responsive class="navigation-toolbar-title">{{ toolbarTitle }}</div>
                <pxb-spacer></pxb-spacer>

                <button data-cy="search-btn" mat-icon-button (click)="openSearch()" style="margin-right: 8px">
                    <mat-icon>search</mat-icon>
                </button>
                <app-user-menu></app-user-menu>
            </mat-toolbar>
            <mat-toolbar class="search-header" [class.active]="toggleSearch" responsive>
                <mat-toolbar-row style="padding: 0 16px">
                    <button class="search-icon" mat-icon-button disabled style="margin-left: -8px">
                        <mat-icon style="color: red">search</mat-icon>
                    </button>
                    <input
                        class="search-control"
                        type="text"
                        placeholder="Search"
                        [(ngModel)]="searchText"
                        #searchBar
                    />
                    <button mat-icon-button (click)="searchClose()" data-cy="search-close-btn" style="margin-right: -8px">
                        <mat-icon style="color: black">close</mat-icon>
                    </button>
                </mat-toolbar-row>
            </mat-toolbar>
        </div>

        <router-outlet></router-outlet>
    </div>
</pxb-drawer-layout>
